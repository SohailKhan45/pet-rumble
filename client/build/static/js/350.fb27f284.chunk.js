"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[350],{7350:(e,t,s)=>{s.r(t),s.d(t,{default:()=>c});var n=s(5043),r=s(952),i=(s(5706),s(147),s(3216)),a=s(5665),o=s(2145),d=(s(2342),s(9145)),l=s(579);const c=()=>{const e=(0,i.zy)().state,[t,s]=(0,n.useState)(),[c,u]=(0,n.useState)([,,,,,]),[p,h]=(0,n.useState)(60),T=(0,i.Zp)();(0,n.useEffect)((()=>{s(Math.floor(1e5+9e5*Math.random()))}),[]),(0,n.useEffect)((()=>{if(!t)return;const s={email:e,otp:t};a.Ay.send("service_bt5gdl7",{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BASE_URL:"https://pet-rumble.onrender.com",REACT_APP_PUBLIC_API_KEY:"Tg0hZTV9edYCSR45q",REACT_APP_SERVICE_ID:"service_bt5gdl7",REACT_APP_TEMPLATE_ID:"template_fxeztoq"}.REACT_APP_TEMPLATE_ID_OTP,s,"Tg0hZTV9edYCSR45q").then((e=>{o.oR.success("OTP Sent Successfully!")}),(e=>{o.oR.error("Error sending the OTP, Please try again")}))}),[t]),(0,n.useEffect)((()=>{if(p>=0&&setTimeout((()=>h(p-1)),1e3),-1===p){document.getElementsByClassName("OTPLinkExpiry")[0].style.visibility="hidden",s(0)}if(0===p){const e=document.getElementsByClassName("OTPResend");e[0].addEventListener("click",P),e[0].style.cursor="pointer",e[0].style.opacity="1",o.oR.warn("Click Resend code to get new OTP.")}}));const P=()=>{document.getElementsByClassName("OTPLinkExpiry")[0].style.visibility="visible",h(60),s(Math.floor(1e5+9e5*Math.random()));const e=document.getElementsByClassName("OTPResend");e[0].style.cursor="default",e[0].removeEventListener("click",P),e[0].style.opacity="0.5"};return(0,l.jsxs)("div",{className:"resetPasswordWrapper",children:[(0,l.jsx)(r.A,{}),(0,l.jsxs)("div",{className:"OTP",children:[(0,l.jsx)("h1",{className:"OTPHeading",children:"Verify OTP"}),(0,l.jsx)("p",{className:"OTPText",children:"Please enter the OTP sent on your email"}),(0,l.jsxs)("form",{onSubmit:s=>(s=>{if(s.preventDefault(),!t)return void o.oR.warn("OTP has expired. Click Resend code to get new OTP.");let n="";c.map((e=>(n+=e,n))),t===n?T("/verify/ChangePassword",{state:e}):o.oR.error("Wrong OTP entered.")})(s),children:[(0,l.jsxs)("div",{className:"OTPBox",children:[(0,l.jsx)(m,{index:0,userotp:c,setUserOTP:u}),(0,l.jsx)(m,{index:1,userotp:c,setUserOTP:u}),(0,l.jsx)(m,{index:2,userotp:c,setUserOTP:u}),(0,l.jsx)(m,{index:3,userotp:c,setUserOTP:u}),(0,l.jsx)(m,{index:4,userotp:c,setUserOTP:u}),(0,l.jsx)(m,{index:5,userotp:c,setUserOTP:u})]}),(0,l.jsxs)("div",{className:"OTPLink",children:[(0,l.jsxs)("p",{className:"OTPLinkExpiry",children:["Expires in ",(0,l.jsx)("span",{children:p})]}),(0,l.jsx)("span",{className:"OTPResend",disabled:!0,children:"Resend code"})]}),(0,l.jsx)("div",{className:"OTPBtn",children:(0,l.jsx)(d.A,{type:"submit",text:"Verify"})})]})]})]})},m=e=>{let{index:t,userotp:s,setUserOTP:n}=e;const r=s;return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("input",{onChange:e=>{r[t]=e.target.value,n(r),document.activeElement.nextElementSibling&&document.activeElement.nextElementSibling.focus()},placeholder:"_",type:"number",className:"OTPContainer",maxLength:1,onInput:e=>{e.target.value.length>e.target.maxLength&&(e.target.value=e.target.value.slice(e.target.maxLength,2))}})})}},5665:(e,t,s)=>{s.d(t,{Ay:()=>o});const n={_origin:"https://api.emailjs.com"},r=(e,t,s)=>{if(!e)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!s)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class i{constructor(e){this.status=e?e.status:0,this.text=e?e.responseText:"Network Error"}}const a=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise(((r,a)=>{const o=new XMLHttpRequest;o.addEventListener("load",(e=>{let{target:t}=e;const s=new i(t);200===s.status||"OK"===s.text?r(s):a(s)})),o.addEventListener("error",(e=>{let{target:t}=e;a(new i(t))})),o.open("POST",n._origin+e,!0),Object.keys(s).forEach((e=>{o.setRequestHeader(e,s[e])})),o.send(t)}))},o={init:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"https://api.emailjs.com";n._userID=e,n._origin=t},send:(e,t,s,i)=>{const o=i||n._userID;r(o,e,t);const d={lib_version:"3.12.1",user_id:o,service_id:e,template_id:t,template_params:s};return a("/api/v1.0/email/send",JSON.stringify(d),{"Content-type":"application/json"})},sendForm:(e,t,s,i)=>{const o=i||n._userID,d=(e=>{let t;if(t="string"===typeof e?document.querySelector(e):e,!t||"FORM"!==t.nodeName)throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return t})(s);r(o,e,t);const l=new FormData(d);return l.append("lib_version","3.12.1"),l.append("service_id",e),l.append("template_id",t),l.append("user_id",o),a("/api/v1.0/email/send-form",l)}}},5706:()=>{}}]);
//# sourceMappingURL=350.fb27f284.chunk.js.map