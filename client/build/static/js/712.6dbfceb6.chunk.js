"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[712],{712:(e,r,s)=>{s.r(r),s.d(r,{Friends:()=>f,default:()=>u});var n=s(5043),a=s(3216),i=s(2145),t=(s(2342),s(2815)),o=s(2693),d=s(579);const l=e=>{let{userID:r,setRefresh:s,refresh:l}=e;const c=(0,a.Zp)(),[f,u]=(0,n.useState)(""),[h,m]=(0,n.useState)(""),[p,v]=(0,n.useState)(""),[x,j]=(0,n.useState)(!1);(0,n.useEffect)((()=>{(async()=>{try{let e=(await(0,o.L)("userdata",{userID:r})).data;"ok"===e.status&&(u(e.foundUser.name),m(e.foundUser.image),v(e.foundUser.bio))}catch(e){return console.log(e),void i.oR.error("There was an error. Kindly referesh the page.")}})()}),[r]);return(0,d.jsxs)("div",{className:"friendCardWrapper",onClick:()=>{c("/Profile/"+r)},children:[(0,d.jsxs)("div",{className:"friendsInfoContainer",children:[(0,d.jsx)("div",{className:"friendsProfilePictureContainer",children:h?(0,d.jsx)("img",{className:"friendsProfilePicture",src:h,alt:"Friend",loading:"lazy"}):(0,d.jsx)(t.BKQ,{className:"friendsProfileIcon"})}),(0,d.jsxs)("div",{className:"friendsInfo",children:[(0,d.jsx)("h3",{children:f}),(0,d.jsx)("p",{children:p})]})]}),(0,d.jsx)("button",{onClick:async e=>{e.stopPropagation(),j(!0);try{"ok"===(await(0,o.L)("removeFriend",{friendID:r})).data.status&&(i.oR.success("Successfully removed."),s(!l))}catch(n){return i.oR.error("There was an error while performing this action."),void j(!1)}},className:"removeFriendBtn",disabled:x,children:x?"Removing...":"Remove"})]})};var c=s(3061);const f=()=>{const[e,r]=(0,n.useState)(null),[s,t]=(0,n.useState)(!1),[f,u]=(0,n.useState)(!0),h=(0,a.Zp)();return(0,n.useEffect)((()=>{(async()=>{let e=(await(0,o.L)("friends")).data;if("ok"!==e.status)return i.oR.error("Kindly login first!"),void h("/verify/login");e=await e.friends,r(e),u(!1)})()}),[s]),(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"friendsWrapper",children:[(0,d.jsx)("h1",{children:"My Friends"}),(0,d.jsx)("div",{className:"friendsCardContainer",children:f?(0,d.jsx)(d.Fragment,{children:Array.from({length:7}).map((()=>(0,d.jsx)(c.eY,{})))}):(0,d.jsx)(d.Fragment,{children:(null===e||void 0===e?void 0:e.length)>0?e.map((e=>(0,d.jsx)(l,{userID:e,setRefresh:t,refresh:s},e))):(0,d.jsxs)("p",{children:[(0,d.jsx)("br",{}),"Connect to people through explore page to view friends."]})})})]})})},u=f}}]);
//# sourceMappingURL=712.6dbfceb6.chunk.js.map