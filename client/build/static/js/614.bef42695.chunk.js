"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[614],{5614:(e,s,r)=>{r.r(s),r.d(s,{default:()=>c});var n=r(5043),a=r(3216),t=r(2145),i=(r(2342),r(2815)),o=r(9985),d=r(2693),l=r(579);const c=()=>{const{id:e}=(0,a.g)(),[s,r]=(0,n.useState)(""),[c,u]=(0,n.useState)(""),[h,f]=(0,n.useState)(""),[g,x]=(0,n.useState)(""),[m,j]=(0,n.useState)(""),[y,p]=(0,n.useState)(""),[v,R]=(0,n.useState)("Connect +"),[P,w]=(0,n.useState)(""),[S,U]=(0,n.useState)(""),k=(0,a.Zp)(),[C,b]=(0,n.useState)(!1);(0,n.useEffect)((()=>{(async()=>{const e=await(0,d.b)("profiledata");let s=e.data;if(401===e.status)return t.oR.error("Kindly login first!"),void k("/verify/login");"ok"===s.status&&w(s.foundUser._id)})(),(async()=>{try{let s=(await(0,d.L)("userdata",{userID:e})).data;if("ok"===s.status){r(s.foundUser.name),f(s.foundUser.breed),x(s.foundUser.gender),j(s.foundUser.image),p(s.foundUser.bio),s.foundUser.requestRecieved.includes(P)?R("Pending..."):R("Connect +"),s.foundUser.friends.includes(P)?R(C?"Removing...":"Remove"):l.Fragment;const{ageInYears:e,ageInMonths:n,ageInDays:a}=(0,o.C)(s.foundUser.dob);u(e>=1?e+" years":n>=1?n+" months":a+" days")}else t.oR.warn("Kindly login first.")}catch(s){console.log(s),t.oR.error("There was an error. Kindly referesh the page.")}})()}),[e,P,v]);const N=async s=>{if("Pending..."!==v)if("Remove"!==v)try{let s=(await(0,d.L)("addFriend",{id:e})).data;"ok"===s.status?(t.oR.success("Request Successfully sent."),R("Pending...")):t.oR.warn(s.status)}catch(r){return void t.oR.error("There was an error. Please try again or refresh the page.")}else(async s=>{b(!0),R("Removing...");try{"ok"===(await(0,d.L)("removeFriend",{friendID:e})).data.status&&(R("Connect +"),t.oR.success("Successfully removed."))}catch(r){return t.oR.error("There was an error while performing this action."),R("Remove"),void b(!1)}})();else t.oR.warn("Request already sent.")};return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:"userProfileWrapper",children:(0,l.jsxs)("div",{className:"userProfileContainer",children:[(0,l.jsxs)("div",{className:"userProfilePrimary",children:[(0,l.jsx)("h1",{children:s}),(0,l.jsx)("div",{className:"exploreUserProfilePictureContainer",children:m?(0,l.jsx)("img",{className:"exploreUserProfilePicture",src:m,alt:"Profile",loading:"lazy"}):(0,l.jsx)(i.BKQ,{className:"exploreUserProfileDogIcon"})}),(0,l.jsx)("h4",{children:y})]}),e===P?"":(0,l.jsx)("button",{id:"userProfileButton",onClick:N,disabled:C,children:v}),(0,l.jsxs)("div",{className:"userProfileSecondary",children:[(0,l.jsxs)("h2",{children:["Breed",(0,l.jsx)("p",{children:h})]}),(0,l.jsxs)("h2",{children:["Age",(0,l.jsx)("p",{children:c})]}),e===P?"":(0,l.jsx)("h2",{className:"profileButton",children:(0,l.jsx)("button",{id:"profileButton",onClick:N,children:v})}),(0,l.jsxs)("h2",{children:["Gender",(0,l.jsx)("p",{children:g})]}),(0,l.jsxs)("h2",{children:["Vaccinated",(0,l.jsx)("p",{children:S?"Yes":"No"})]})]})]})})})}}}]);
//# sourceMappingURL=614.bef42695.chunk.js.map