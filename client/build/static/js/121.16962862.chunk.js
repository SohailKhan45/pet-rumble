"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[121],{3121:(e,a,s)=>{s.r(a),s.d(a,{default:()=>x});var t=s(5043),r=s(1803),o=s(8968),n=s(2145),c=(s(2342),s(3216)),l=s(7148),i=s(2127),d=s(7149),h=s(4163),u=s(579);const m=e=>{let{userID:a}=e;const s=document.location.href.split("/"),r="".concat(s[0],"//").concat(s[2],"/verify/generateqr/").concat(a),[o,n]=(0,t.useState)(!1);return(0,u.jsxs)("div",{className:"shareProfileCardPannel",children:[(0,u.jsx)("button",{type:"button",title:"Copy",onClick:()=>{n(!0),navigator.clipboard.writeText(r),setTimeout((()=>{n(!1)}),1e3)},children:(0,u.jsx)("div",{children:o?(0,u.jsx)(h.RXm,{className:"shareProfileCardTickIcon"}):(0,u.jsx)(d.kn0,{})})}),(0,u.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://api.whatsapp.com/send?text=".concat("Hey, Check out my dog's account on Pet Rumble: "," ",r),children:(0,u.jsx)("div",{children:(0,u.jsx)(i._QQ,{})})})]})};var p=s(2285),g=s(2693);function x(){const e=(0,c.Zp)(),[a,s]=(0,t.useState)(""),[d,h]=(0,t.useState)(""),[x,f]=(0,t.useState)(""),[j,y]=(0,t.useState)(""),[N,b]=(0,t.useState)("Please contact if you found my pet!"),[v,C]=(0,t.useState)(!1),[w,R]=(0,t.useState)(!1),S=document.location.href.split("/"),P="".concat(S[0],"//").concat(S[2],"/verify/generateqr/").concat(a);(0,t.useEffect)((()=>{(async()=>{try{const a=await(0,g.b)("profiledata");if(401===a.status)return n.oR.error("Kindly login first!"),void e("/verify/login");let t=a.data;"ok"===t.status?(h(t.foundUser.name),s(t.foundUser._id)):n.oR.error("Please reload!")}catch(a){console.log(a)}})(),(async()=>{try{let e=(await(0,g.L)("qrData")).data;"ok"===e.status&&(f(e.foundUser.contactNumber),y(e.foundUser.alternateNumber),b(e.foundUser.message),C(e.foundUser.switchState))}catch(e){console.log(e)}})()}),[]);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"bgLostPet",children:[(0,u.jsx)("div",{className:"bgHeader"}),(0,u.jsxs)("div",{className:"lostPetContainer",children:[(0,u.jsxs)("form",{className:"msgContainerLeft",children:[(0,u.jsxs)("div",{className:"messageTitle",children:[(0,u.jsx)("h2",{children:"Lost Pet?"}),(0,u.jsx)("div",{className:"lostPet",children:(0,u.jsx)(o.A,{checked:v,onChange:()=>{C(!v),(async()=>{try{const e=await(0,g.L)("qrSwitch",{switchState:!v});R(!w),201!==e.status||v?201===e.status&&v?n.oR.success("Lost Mode Deactivated"):n.oR.error("Sorry! We Couldn't Update Lost Mode. Please Try Again Later"):n.oR.success("Lost Mode Activated")}catch(e){console.log(e)}})()},onColor:"#fed3a3",onHandleColor:"#ff8400",handleDiameter:30,uncheckedIcon:!1,checkedIcon:!1,boxShadow:"0px 1px 5px rgba(0, 0, 0, 0.6)",activeBoxShadow:"0px 0px 1px 10px rgba(0, 0, 0, 0.2)",height:20,width:48,className:"reactSwitch",id:"material-switch"})})]}),(0,u.jsxs)("div",{className:"msgForm",children:[(0,u.jsx)("label",{id:"contactno",children:(0,u.jsx)("input",{className:"inputField",type:"text",name:"contact no",value:x,placeholder:"Contact Number",onChange:e=>{f(e.target.value)},required:!0})}),(0,u.jsx)("label",{id:"alternateContactno",children:(0,u.jsx)("input",{className:"inputField",type:"text",name:"contact no",value:j,placeholder:"Alternate Contact Number",onChange:e=>{y(e.target.value)},required:!0})}),(0,u.jsx)("label",{id:"message",children:(0,u.jsx)("textarea",{className:"inputField",id:"textarea",type:"text",name:"message",value:N,rows:5,placeholder:"Drop your message here",onChange:e=>{b(e.target.value)},required:!0})}),(0,u.jsx)("button",{className:"btn uploadMsg",type:"submit",onClick:async e=>{if(e.preventDefault(),x.match(/^\d{10}$/))if(j.match(/^\d{10}$/))try{await(0,g.L)("qr-code",{contactNumber:x,alternateNumber:j,message:N}),n.oR.success("Successfully Updated."),R(!w)}catch(a){n.oR.error("There was an error. Kindly referesh the page and try again.")}else n.oR.error("Please enter a valid 10-digit alternate phone number.");else n.oR.error("Please enter a valid 10-digit phone number.")},children:"Submit"})]})]}),(0,u.jsxs)("div",{className:"QRGeneratorProfileCard",children:[(0,u.jsx)(l.A,{refresh:w}),(0,u.jsxs)("span",{className:"profileCardShare",children:[(0,u.jsx)(i.MX,{className:"profileCardShareIcon",onClick:()=>{const e=document.body.getElementsByClassName("shareProfileCardPannel"),a=document.body.getElementsByClassName("profileCardShareIcon");e[0].classList.toggle("sharePannelVisible"),a[0].classList.toggle("profileCardShareIconRotate")}}),(0,u.jsx)(m,{userID:a})]})]})]})]}),(0,u.jsxs)("div",{className:"qrGuide",children:[(0,u.jsx)("h1",{className:"qrTitle",children:"What is Pet QR?"}),(0,u.jsxs)("h4",{className:"qrGuideText",children:["Your pet's QR helps you to connect with others\u2014share it or scan theirs. ",(0,u.jsx)("br",{}),"Toggle the button for a help message, aiding in a quick reunion if your pet is ever lost."]})]}),(0,u.jsxs)("div",{className:"qrCodeContainer",children:[(0,u.jsxs)("div",{className:"qrDescription",children:[(0,u.jsx)("h1",{className:"qrTitle",children:"How to use QR?"}),(0,u.jsx)("p",{className:"stepTitle",children:"Download QR Code:"}),(0,u.jsx)("p",{className:"stepDesc",children:"To get started, download the QR code from our website. It's like a special picture that contains important information about your pet."}),(0,u.jsx)("p",{className:"stepTitle",children:"Attach to Your Pet:"}),(0,u.jsx)("p",{className:"stepDesc",children:"Attach this QR code to your pet's collar, tag, or accessories. Ensure it's visible, yet comfortable for your furry friend."}),(0,u.jsx)("p",{className:"stepTitle",children:"Scan with a Phone:"}),(0,u.jsx)("p",{className:"stepDesc",children:"If your pet goes missing, someone can use their smartphone to scan the QR code. It's easy - just open the camera app and point it at the code."}),(0,u.jsx)("p",{className:"stepTitle",children:"Pet's Profile:"}),(0,u.jsx)("p",{className:"stepDesc",children:"After scanning, your pet's profile card will magically appear on their phone \u2014 a comprehensive ID card featuring their name, your contact details, and more."}),(0,u.jsxs)("p",{className:"stepTitle",children:["Helpful in Emergencies: ",(0,u.jsx)(p.yXR,{className:"redIcon"})]}),(0,u.jsx)("p",{className:"stepDesc",children:"In emergencies, set up a special message on our website. If your pet is lost, press the button, and the message will appear on the profile card. It acts as a digital tag for your furry friend, aiding in a quick reunion."})]}),(0,u.jsxs)("div",{className:"qrCard",children:[(0,u.jsx)(r.Xe,{id:"qrCodeEl",size:256,value:P,viewBox:"0 0 256 256",className:"qrImg"}),(0,u.jsx)("div",{className:"qrBtn",onClick:()=>{const e=document.getElementById("qrCodeEl").toDataURL("image/png").replace("image/png","image/octet-stream");let a=document.createElement("a");a.href=e,a.download="".concat(d,"_Wiggles.png"),document.body.appendChild(a),a.click(),document.body.removeChild(a),n.oR.success("Successfully Downloaded")},children:"Download QR"})]})]})]})}}}]);
//# sourceMappingURL=121.16962862.chunk.js.map