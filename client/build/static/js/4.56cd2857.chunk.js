"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[4],{3004:(e,s,r)=>{r.r(s),r.d(s,{default:()=>u});var i=r(5043),a=r(3216),n=r(2145),d=(r(2342),r(2815)),t=r(2693),l=r(579);function o(e){let{id:s,name:r,breed:o,gender:c,bio:u,image:h,status:f,loading:x}=e;const g=(0,a.Zp)(),[p,m]=(0,i.useState)(f);return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"profileCard",onClick:e=>{g("/Profile/"+s)},children:[(0,l.jsx)("div",{className:"exploreCardProfilePictureContainer",children:h?(0,l.jsx)("img",{className:"exploreCardProfilePicture",src:h,alt:"Profile",loading:"lazy"}):(0,l.jsx)(d.BKQ,{className:"exploreCardProfileDogIcon "})}),(0,l.jsxs)("div",{id:"profileInfo",children:[(0,l.jsxs)("div",{className:"primaryInfo",children:[(0,l.jsxs)("span",{id:"gender",children:[c," | "]}),(0,l.jsx)("span",{id:"name",children:r})]}),(0,l.jsxs)("div",{className:"secondaryInfo",children:[(0,l.jsx)("div",{id:"breed",children:o}),(0,l.jsx)("div",{id:"bio",className:"bioText",children:u||(0,l.jsx)("p",{children:"Here we will show your bio."})})]}),(0,l.jsx)("button",{id:"playdate",onClick:async e=>{if(e.stopPropagation(),"Pending..."!==p){m("Pending...");try{let e=(await(0,t.L)("addFriend",{id:s})).data;"ok"===e.status?n.oR.success("Request successfully sent."):n.oR.warn(e.status)}catch(r){return console.log(r),void n.oR.error("There was an error. Please try again or refresh the page.")}}else n.oR.warn("Request already sent!")},children:p})]})]})})}var c=r(3061);function u(){const e=(0,a.Zp)(),[s,r]=(0,i.useState)([]),[d,u]=(0,i.useState)(""),[h,f]=(0,i.useState)(!0);(0,i.useEffect)((()=>{(async()=>{let s=(await(0,t.b)("data")).data;if("ok"!==s.status)return n.oR.error("Unauthorised access"),void e("/verify/login");u(s.userID),r(s.Users.filter((e=>e._id!==s.userID&&!e.friends.includes(s.userID)))),f(!1)})()}),[]);const x=Array.from({length:9}).map((()=>(0,l.jsx)(c.Ns,{})));return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{id:"profileCardContainer",children:h?x:s.length>0?s.map((e=>(0,l.jsx)(o,{id:e._id,name:e.name,breed:e.breed,gender:e.gender,bio:e.bio,image:e.image,status:e.requestRecieved.includes(d)?"Pending...":"Connect +"},e._id))):(0,l.jsxs)("h3",{children:[(0,l.jsx)("br",{}),"Oops! No one's here."]})})})}}}]);
//# sourceMappingURL=4.56cd2857.chunk.js.map