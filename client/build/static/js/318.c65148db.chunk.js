"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[318],{1318:(e,a,l)=>{l.r(a),l.d(a,{default:()=>b});var s=l(5043),r=l(1434),t=(l(147),l(221)),n=l(2145),i=(l(2342),l(5753)),o=l(2815),d=l(2693),u=l(579);function c(e){let{closeEditProfile:a,name:l,bio:c,dob:h,breed:m,address:b,gender:p,editImage:v,refresh:x,setRefresh:g}=e;const[f,j]=(0,s.useState)(l),[S,P]=(0,s.useState)(h),[y,N]=(0,s.useState)(m),[C,k]=(0,s.useState)(p),[I,B]=(0,s.useState)(c),[R,w]=(0,s.useState)(b),[D,U]=(0,s.useState)(0),[L,F]=(0,s.useState)(!1),[A,E]=(0,s.useState)(v),G=(new Date).toISOString().split("T")[0],T=()=>{document.getElementById("inputImage").click()};return(0,u.jsx)("div",{className:"editProfileWrapper",children:(0,u.jsxs)("form",{className:"editProfileContainer",onSubmit:async e=>{e.preventDefault();const l=new FormData;l.append("name",f),l.append("dob",S),l.append("gender",C),l.append("breed",y),l.append("image",A),l.append("bio",I),l.append("address",R);try{200===(await(0,d.L)("updateProfile",l)).status&&(g(!x),a(!1),n.oR.success("Changes saved successfully"))}catch(s){n.oR.error("There was an error. Kindly referesh the page.")}},children:[(0,u.jsxs)("div",{className:"editProfileHeader",children:[(0,u.jsx)("h4",{className:"header",children:"EDIT PROFILE"}),(0,u.jsx)("button",{className:"closeBtn",onClick:()=>a(!1),children:(0,u.jsx)(t.FyX,{})})]}),(0,u.jsxs)("div",{className:"editProfileForm",children:[(0,u.jsxs)("div",{className:"editProfilePrimary",children:[(0,u.jsx)("input",{id:"inputImage",type:"file",accept:"image/*",name:"image",onChange:e=>(e=>{const a=e.target.files[0];E(a),e.target.value="";const l=new FileReader;a&&l.readAsDataURL(a)})(e)}),(0,u.jsx)(r.dtF,{onClick:T,className:"editImageIcon"}),(0,u.jsx)("div",{className:"circularContainer",onClick:T,children:A?(0,u.jsx)("img",{className:" editProfilePhoto profilePicture",src:function(e){try{return new URL(e),!0}catch(a){return!1}}(A)?A:URL.createObjectURL(A),alt:"Selected"}):(0,u.jsx)(o.BKQ,{className:"editProfilePhoto profileIcon"})}),(0,u.jsx)("div",{className:"removeProfilePhoto",onClick:()=>{E(null)},children:"Remove Photo"})]}),(0,u.jsxs)("div",{className:"editProfileSecondary",children:[(0,u.jsxs)("div",{className:"inputSection",children:[(0,u.jsxs)("label",{id:"name",children:["Pet's Name",(0,u.jsx)("input",{type:"text",name:"name",value:f,onChange:e=>{j(e.target.value)},required:!0})]}),(0,u.jsxs)("label",{id:"breed",children:["Breed",(0,u.jsx)(i.A,{className:"breedDropdown",options:[{value:"Labrador",label:"Labrador"},{value:"Beagle",label:"Beagle"},{value:"Pomeranian",label:"Pomeranian"},{value:"Indian Pariah",label:"Indian Pariah"},{value:"Golden Retriever",label:"Golden Retriever"},{value:"Pug",label:"Pug"},{value:"Indian Spitz",label:"Indian Spitz"},{value:"Shih Tzu",label:"Shih Tzu"},{value:"Siberian Husky",label:"Siberian Husky"},{value:"Chihuahua",label:"Chihuahua"},{value:"Cocker Spaniel",label:"Cocker Spaniel"},{value:"Bull Dog",label:"Bull Dog"},{value:"German Shepherd",label:"German Shepherd"},{value:"Great Dane",label:"Great Dane"},{value:"Rottweiler",label:"Rottweiler"},{value:"Boxer",label:"Boxer"},{value:"Dalmatian",label:"Dalmatian"},{value:"Doberman",label:"Doberman"},{value:"Pitbull",label:"Pitbull"},{value:"Lhasa Apso",label:"Lhasa Apso"},{value:"Pembroke Welsh Corgi",label:"Pembroke Welsh Corgi"},{value:"Australian Shepherd",label:"Australian Shepherd"},{value:"Yorkshire Terrier",label:"Yorkshire Terrier"}],placeholder:L?"":y,value:y,onChange:e=>{N(e?e.value:""),F(!1)},styles:{control:e=>({...e,border:"1px solid #a6a7acd4",color:"black",boxShadow:"none","&:hover":{border:"1px solid #a6a7acd4"}})},onFocus:()=>{F(!0)},onBlur:()=>{F(!1)},isSearchable:!0,isClearable:!0})]})]}),(0,u.jsxs)("label",{id:"bio",className:"inputSection",children:["Bio",(0,u.jsx)("textarea",{type:"text",name:"bio",rows:2,value:I,maxLength:100,onChange:e=>{B(e.target.value);const a=document.querySelector("textarea");a.addEventListener("keydown",(e=>{a.style.height="auto";var l=e.target.scrollHeight;a.style.height="".concat(l,"px")})),U(e.target.value.length)},required:!0}),(0,u.jsxs)("span",{className:"textareaCount",children:[D,"/100"]})]}),(0,u.jsxs)("div",{className:"inputSection",children:[(0,u.jsxs)("label",{id:"dob",children:["DOB",(0,u.jsx)("input",{type:"date",value:S,onFocus:e=>e.target.type="date",onChange:e=>{P(e.target.value)},max:G,required:!0})]}),(0,u.jsxs)("label",{id:"gender",children:["Gender",(0,u.jsxs)("select",{name:"gender",onChange:e=>{k(e.target.value)},value:C,children:[(0,u.jsx)("option",{value:"Male",children:"Male"}),(0,u.jsx)("option",{value:"Female",children:"Female"})]})]})]}),(0,u.jsxs)("label",{id:"address",className:"inputSection",children:["Address",(0,u.jsx)("input",{type:"text",name:"address",value:R,onChange:e=>{w(e.target.value)}})]})]})]}),(0,u.jsx)("button",{type:"submit",className:"btn editBtn",children:"Save Changes"})]})})}var h=l(3216),m=l(9985);const b=()=>{const[e,a]=(0,s.useState)(""),[l,t]=(0,s.useState)(""),[i,b]=(0,s.useState)(""),[p,v]=(0,s.useState)(""),[x,g]=(0,s.useState)(""),[f,j]=(0,s.useState)(""),[S,P]=(0,s.useState)(""),[y,N]=(0,s.useState)(""),[C,k]=(0,s.useState)(!1),[I,B]=(0,s.useState)(!1),R=(0,h.Zp)();return(0,s.useEffect)((()=>{(async()=>{try{const e=await(0,d.L)("userdata");let l=e.data;if(401===e.status)return n.oR.error("Kindly login first!"),void R("/verify/login");if("ok"===l.status){a(l.foundUser.name),v(l.foundUser.breed),g(l.foundUser.gender),"null"===l.foundUser.image?j(null):j(l.foundUser.image),P(l.foundUser.bio),N(l.foundUser.address);const{ageInYears:e,ageInMonths:s,ageInDays:r}=(0,m.C)(l.foundUser.dob);b(l.foundUser.dob.slice(0,10)),t(e>=1?e+" years":s>=1?s+" months":r+" days")}}catch(e){n.oR.warn(e)}})()}),[I]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"profile",children:[(0,u.jsx)("div",{className:"userProfilePicture",children:f?(0,u.jsx)("img",{className:"profilePicture",src:f,alt:"Profile",loading:"lazy"}):(0,u.jsx)(o.BKQ,{className:"profileIcon"})}),(0,u.jsxs)("div",{className:"profileInfoPrimary",children:[(0,u.jsxs)("h1",{children:["Name : ",e]}),(0,u.jsxs)("h1",{children:["Bio : ",S]}),(0,u.jsxs)("h1",{children:["Breed : ",p]}),(0,u.jsxs)("h1",{children:["Gender : ",x]}),(0,u.jsxs)("h1",{children:["Age : ",l]}),(0,u.jsxs)("h1",{children:["Address : ",y," "]}),(0,u.jsxs)("h1",{className:"profileInfoEdit",onClick:()=>{k(!0),document.querySelector(".profile").style.blur="30px"},children:[(0,u.jsx)(r.rBU,{})," \xa0Edit Profile"]})]})]}),C&&(0,u.jsx)(c,{closeEditProfile:k,name:e,bio:S,breed:p,dob:i,gender:x,address:y,editImage:f,refresh:I,setRefresh:B})]})}}}]);
//# sourceMappingURL=318.c65148db.chunk.js.map